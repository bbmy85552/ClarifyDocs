---
title: Fumadocs - è¿›é˜¶å®ç°æ–¹æ¡ˆ
description: good
---

## ğŸ¯ é¡¹ç›®ç›®æ ‡

å°†ç°æœ‰çš„é™æ€ Fumadocs é¡¹ç›®å‡çº§ä¸ºåŠ¨æ€æ–‡ç« ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒï¼š
- å‰ç«¯æ–‡ç« ç¼–è¾‘å’Œå‘å¸ƒ
- åç«¯ API æ•°æ®ç®¡ç†
- MySQL æ•°æ®åº“å­˜å‚¨
- åŠ¨æ€ç›®å½•å’Œæ–‡ç« å±•ç¤º
- ç›®å½•é—´çš„ç‹¬ç«‹æ€§

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯ (Next.js) â”‚    â”‚  åç«¯ (FastAPI)  â”‚    â”‚  æ•°æ®åº“ (MySQL)  â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ æ–‡ç« å±•ç¤ºé¡µé¢ â”‚ â”‚â—„â”€â”€â”€â”¤ â”‚ æ–‡ç« æŸ¥è¯¢API â”‚ â”‚â—„â”€â”€â”€â”¤ â”‚ articlesè¡¨  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ æ–‡ç« ç®¡ç†é¡µé¢ â”‚ â”‚â—„â”€â”€â–ºâ”‚ â”‚ æ–‡ç« ç®¡ç†API â”‚ â”‚â—„â”€â”€â–ºâ”‚ â”‚ categoriesè¡¨â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚                 â”‚
â”‚ â”‚ ç›®å½•ç®¡ç†é¡µé¢ â”‚ â”‚â—„â”€â”€â–ºâ”‚ â”‚ ç›®å½•ç®¡ç†API â”‚ â”‚    â”‚                 â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆè¯¦æƒ…

**å‰ç«¯ (Frontend)**
- Next.js 15 + React 19 + TypeScript
- Fumadocs UI ç»„ä»¶
- Tailwind CSS
- å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ (æ¨è: @uiw/react-md-editor)

**åç«¯ (Backend)**
- Python 3.11+
- FastAPI 0.104+
- SQLAlchemy 2.0 (ORM)
- Pydantic (æ•°æ®éªŒè¯)
- python-multipart (æ–‡ä»¶ä¸Šä¼ )

**æ•°æ®åº“ (Database)**
- MySQL 8.0+
- è¿æ¥æ± ç®¡ç†
- äº‹åŠ¡æ”¯æŒ

## ğŸ“Š æ•°æ®åº“è®¾è®¡

### è¡¨ç»“æ„è®¾è®¡

#### 1. æ–‡ç« åˆ†ç±»è¡¨ (categories)

```sql
CREATE TABLE categories (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(100) NOT NULL UNIQUE COMMENT 'åˆ†ç±»åç§°',
    slug VARCHAR(100) NOT NULL UNIQUE COMMENT 'URLå‹å¥½çš„åˆ†ç±»æ ‡è¯†',
    description TEXT COMMENT 'åˆ†ç±»æè¿°',
    sort_order INT DEFAULT 0 COMMENT 'æ’åºæƒé‡',
    is_active BOOLEAN DEFAULT TRUE COMMENT 'æ˜¯å¦å¯ç”¨',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    INDEX idx_slug (slug),
    INDEX idx_sort_order (sort_order),
    INDEX idx_is_active (is_active)
);
```

#### 2. æ–‡ç« è¡¨ (articles)

```sql
CREATE TABLE articles (
    id INT PRIMARY KEY AUTO_INCREMENT,
    title VARCHAR(200) NOT NULL COMMENT 'æ–‡ç« æ ‡é¢˜',
    slug VARCHAR(200) NOT NULL COMMENT 'URLå‹å¥½çš„æ–‡ç« æ ‡è¯†',
    description TEXT COMMENT 'æ–‡ç« ç®€ä»‹',
    content LONGTEXT NOT NULL COMMENT 'æ–‡ç« æ­£æ–‡å†…å®¹(Markdown)',
    category_id INT NOT NULL COMMENT 'æ‰€å±åˆ†ç±»ID',
    author VARCHAR(100) NOT NULL COMMENT 'ä½œè€…',
    status ENUM('draft', 'published', 'archived') DEFAULT 'draft' COMMENT 'æ–‡ç« çŠ¶æ€',
    sort_order INT DEFAULT 0 COMMENT 'åœ¨åˆ†ç±»ä¸­çš„æ’åº',
    view_count INT DEFAULT 0 COMMENT 'æµè§ˆæ¬¡æ•°',
    word_count INT DEFAULT 0 COMMENT 'å­—æ•°ç»Ÿè®¡',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    published_at TIMESTAMP NULL COMMENT 'å‘å¸ƒæ—¶é—´',
    
    FOREIGN KEY (category_id) REFERENCES categories(id) ON DELETE CASCADE,
    UNIQUE KEY unique_slug_category (slug, category_id),
    INDEX idx_category_id (category_id),
    INDEX idx_status (status),
    INDEX idx_published_at (published_at),
    INDEX idx_sort_order (sort_order),
    
    FULLTEXT KEY ft_title_content (title, content)
);
```

### ç¤ºä¾‹æ•°æ®

```sql
-- æ’å…¥ç¤ºä¾‹åˆ†ç±»
INSERT INTO categories (name, slug, description, sort_order) VALUES 
('Telegram å¼€å‘', 'telegram-dev', 'Telegram æœºå™¨äººå’Œåº”ç”¨å¼€å‘ç›¸å…³æ•™ç¨‹', 1),
('API æ–‡æ¡£', 'api-docs', 'API æ¥å£ä½¿ç”¨è¯´æ˜å’Œç¤ºä¾‹', 2),
('æœ€ä½³å®è·µ', 'best-practices', 'å¼€å‘æœ€ä½³å®è·µå’Œç»éªŒåˆ†äº«', 3);

-- æ’å…¥ç¤ºä¾‹æ–‡ç« 
INSERT INTO articles (title, slug, description, content, category_id, author, status, published_at) VALUES 
('Telegram Bot åˆ›å»ºæŒ‡å—', 'telegram-bot-guide', 'è¯¦ç»†ä»‹ç»å¦‚ä½•åˆ›å»ºå’Œé…ç½® Telegram æœºå™¨äºº', '# Telegram Bot åˆ›å»ºæŒ‡å—\n\næœ¬æ–‡å°†è¯¦ç»†ä»‹ç»...', 1, 'Admin', 'published', NOW());
```

## ğŸ”§ åç«¯ API è®¾è®¡

### é¡¹ç›®ç»“æ„

```
backend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py                 # FastAPI åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ config.py              # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ database.py            # æ•°æ®åº“è¿æ¥
â”‚   â”œâ”€â”€ models/                # SQLAlchemy æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ article.py
â”‚   â”‚   â””â”€â”€ category.py
â”‚   â”œâ”€â”€ schemas/               # Pydantic æ¨¡å¼
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ article.py
â”‚   â”‚   â””â”€â”€ category.py
â”‚   â”œâ”€â”€ api/                   # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ articles.py
â”‚   â”‚   â””â”€â”€ categories.py
â”‚   â””â”€â”€ utils/                 # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ __init__.py
â”‚       â””â”€â”€ text_utils.py
â”œâ”€â”€ requirements.txt
â””â”€â”€ .env
```

### æ ¸å¿ƒä»£ç å®ç°

#### 1. æ•°æ®åº“é…ç½® (database.py)

```python
from sqlalchemy import create_engine
from sqlalchemy.ext.declarative import declarative_base
from sqlalchemy.orm import sessionmaker
import os

DATABASE_URL = f"mysql+pymysql://{os.getenv('DB_USER')}:{os.getenv('DB_PASSWORD')}@{os.getenv('DB_HOST')}/{os.getenv('DB_NAME')}"

engine = create_engine(DATABASE_URL, pool_pre_ping=True, pool_recycle=300)
SessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=engine)

Base = declarative_base()

def get_db():
    db = SessionLocal()
    try:
        yield db
    finally:
        db.close()
```

#### 2. æ•°æ®æ¨¡å‹ (models/article.py)

```python
from sqlalchemy import Column, Integer, String, Text, ForeignKey, DateTime, Enum, Boolean
from sqlalchemy.orm import relationship
from sqlalchemy.sql import func
from database import Base

class Category(Base):
    __tablename__ = "categories"
    
    id = Column(Integer, primary_key=True, index=True)
    name = Column(String(100), unique=True, nullable=False)
    slug = Column(String(100), unique=True, nullable=False, index=True)
    description = Column(Text)
    sort_order = Column(Integer, default=0, index=True)
    is_active = Column(Boolean, default=True, index=True)
    created_at = Column(DateTime(timezone=True), server_default=func.now())
    updated_at = Column(DateTime(timezone=True), server_default=func.now(), onupdate=func.now())
    
    articles = relationship("Article", back_populates="category")

class Article(Base):
    __tablename__ = "articles"
    
    id = Column(Integer, primary_key=True, index=True)
    title = Column(String(200), nullable=False)
    slug = Column(String(200), nullable=False, index=True)
    description = Column(Text)
    content = Column(Text, nullable=False)
    category_id = Column(Integer, ForeignKey("categories.id"), nullable=False, index=True)
    author = Column(String(100), nullable=False)
    status = Column(Enum('draft', 'published', 'archived'), default='draft', index=True)
    sort_order = Column(Integer, default=0, index=True)
    view_count = Column(Integer, default=0)
    word_count = Column(Integer, default=0)
    created_at = Column(DateTime(timezone=True), server_default=func.now())
    updated_at = Column(DateTime(timezone=True), server_default=func.now(), onupdate=func.now())
    published_at = Column(DateTime(timezone=True))
    
    category = relationship("Category", back_populates="articles")
```

#### 3. API è·¯ç”± (api/articles.py)

```python
from fastapi import APIRouter, Depends, HTTPException, Query
from sqlalchemy.orm import Session
from typing import List, Optional
from database import get_db
from models.article import Article, Category
from schemas.article import ArticleCreate, ArticleUpdate, ArticleResponse

router = APIRouter(prefix="/api/articles", tags=["articles"])

@router.get("/", response_model=List[ArticleResponse])
def get_articles(
    category_slug: Optional[str] = None,
    status: str = "published",
    skip: int = Query(0, ge=0),
    limit: int = Query(100, ge=1, le=100),
    db: Session = Depends(get_db)
):
    """è·å–æ–‡ç« åˆ—è¡¨"""
    query = db.query(Article).join(Category)
    
    if category_slug:
        query = query.filter(Category.slug == category_slug)
    
    query = query.filter(Article.status == status)
    query = query.order_by(Article.sort_order, Article.published_at.desc())
    
    articles = query.offset(skip).limit(limit).all()
    return articles

@router.get("/{category_slug}/{article_slug}", response_model=ArticleResponse)
def get_article(category_slug: str, article_slug: str, db: Session = Depends(get_db)):
    """è·å–å•ç¯‡æ–‡ç« """
    article = db.query(Article).join(Category).filter(
        Category.slug == category_slug,
        Article.slug == article_slug,
        Article.status == "published"
    ).first()
    
    if not article:
        raise HTTPException(status_code=404, detail="Article not found")
    
    # å¢åŠ æµè§ˆæ¬¡æ•°
    article.view_count += 1
    db.commit()
    
    return article

@router.post("/", response_model=ArticleResponse)
def create_article(article: ArticleCreate, db: Session = Depends(get_db)):
    """åˆ›å»ºæ–‡ç« """
    # æ£€æŸ¥åˆ†ç±»æ˜¯å¦å­˜åœ¨
    category = db.query(Category).filter(Category.id == article.category_id).first()
    if not category:
        raise HTTPException(status_code=400, detail="Category not found")
    
    # è®¡ç®—å­—æ•°
    word_count = calculate_word_count(article.content)
    
    db_article = Article(
        **article.dict(),
        word_count=word_count
    )
    
    db.add(db_article)
    db.commit()
    db.refresh(db_article)
    return db_article

@router.put("/{article_id}", response_model=ArticleResponse)
def update_article(article_id: int, article: ArticleUpdate, db: Session = Depends(get_db)):
    """æ›´æ–°æ–‡ç« """
    db_article = db.query(Article).filter(Article.id == article_id).first()
    if not db_article:
        raise HTTPException(status_code=404, detail="Article not found")
    
    update_data = article.dict(exclude_unset=True)
    if 'content' in update_data:
        update_data['word_count'] = calculate_word_count(update_data['content'])
    
    for key, value in update_data.items():
        setattr(db_article, key, value)
    
    db.commit()
    db.refresh(db_article)
    return db_article
```

#### 4. æ•°æ®éªŒè¯æ¨¡å¼ (schemas/article.py)

```python
from pydantic import BaseModel, validator
from datetime import datetime
from typing import Optional
from enum import Enum

class ArticleStatus(str, Enum):
    draft = "draft"
    published = "published"
    archived = "archived"

class ArticleBase(BaseModel):
    title: str
    slug: str
    description: Optional[str] = None
    content: str
    category_id: int
    author: str
    status: ArticleStatus = ArticleStatus.draft
    sort_order: int = 0

class ArticleCreate(ArticleBase):
    @validator('slug')
    def validate_slug(cls, v):
        if not v.replace('-', '').replace('_', '').isalnum():
            raise ValueError('Slug must contain only alphanumeric characters, hyphens, and underscores')
        return v

class ArticleUpdate(BaseModel):
    title: Optional[str] = None
    slug: Optional[str] = None
    description: Optional[str] = None
    content: Optional[str] = None
    category_id: Optional[int] = None
    author: Optional[str] = None
    status: Optional[ArticleStatus] = None
    sort_order: Optional[int] = None

class ArticleResponse(ArticleBase):
    id: int
    view_count: int
    word_count: int
    created_at: datetime
    updated_at: datetime
    published_at: Optional[datetime] = None
    
    class Config:
        from_attributes = True
```

## ğŸ¨ å‰ç«¯å®ç°

### 1. æ–‡ç« ç®¡ç†é¡µé¢ç»“æ„

```
app/
â”œâ”€â”€ admin/                     # ç®¡ç†åå°
â”‚   â”œâ”€â”€ articles/
â”‚   â”‚   â”œâ”€â”€ page.tsx          # æ–‡ç« åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ create/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx      # åˆ›å»ºæ–‡ç« 
â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚       â””â”€â”€ edit/
â”‚   â”‚           â””â”€â”€ page.tsx   # ç¼–è¾‘æ–‡ç« 
â”‚   â”œâ”€â”€ categories/
â”‚   â”‚   â””â”€â”€ page.tsx          # åˆ†ç±»ç®¡ç†
â”‚   â””â”€â”€ layout.tsx            # ç®¡ç†åå°å¸ƒå±€
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ [category]/           # åŠ¨æ€åˆ†ç±»è·¯ç”±
â”‚       â”œâ”€â”€ page.tsx          # åˆ†ç±»æ–‡ç« åˆ—è¡¨
â”‚       â””â”€â”€ [slug]/
â”‚           â””â”€â”€ page.tsx      # æ–‡ç« è¯¦æƒ…é¡µ
â””â”€â”€ api/                      # API ä»£ç†è·¯ç”±
    â”œâ”€â”€ articles/
    â””â”€â”€ categories/
```

### 2. æ–‡ç« ç¼–è¾‘å™¨ç»„ä»¶

```typescript
// components/article-editor.tsx
'use client';

import { useState, useRef } from 'react';
import MDEditor from '@uiw/react-md-editor';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Textarea } from '@/components/ui/textarea';
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';

interface ArticleEditorProps {
  initialData?: Partial<Article>;
  categories: Category[];
  onSave: (data: ArticleFormData) => Promise<void>;
}

export function ArticleEditor({ initialData, categories, onSave }: ArticleEditorProps) {
  const [formData, setFormData] = useState({
    title: initialData?.title || '',
    slug: initialData?.slug || '',
    description: initialData?.description || '',
    content: initialData?.content || '',
    category_id: initialData?.category_id || '',
    author: initialData?.author || '',
    status: initialData?.status || 'draft'
  });

  const [isLoading, setIsLoading] = useState(false);

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setIsLoading(true);
    
    try {
      await onSave(formData);
    } finally {
      setIsLoading(false);
    }
  };

  const generateSlug = (title: string) => {
    return title
      .toLowerCase()
      .replace(/[^\w\s-]/g, '')
      .replace(/\s+/g, '-')
      .trim();
  };

  return (
    <form onSubmit={handleSubmit} className="space-y-6">
      <div className="grid grid-cols-2 gap-4">
        <div>
          <label className="block text-sm font-medium mb-2">æ–‡ç« æ ‡é¢˜</label>
          <Input
            value={formData.title}
            onChange={(e) => {
              const title = e.target.value;
              setFormData(prev => ({
                ...prev,
                title,
                slug: prev.slug || generateSlug(title)
              }));
            }}
            placeholder="è¯·è¾“å…¥æ–‡ç« æ ‡é¢˜"
            required
          />
        </div>
        
        <div>
          <label className="block text-sm font-medium mb-2">URL Slug</label>
          <Input
            value={formData.slug}
            onChange={(e) => setFormData(prev => ({ ...prev, slug: e.target.value }))}
            placeholder="url-friendly-slug"
            required
          />
        </div>
      </div>

      <div>
        <label className="block text-sm font-medium mb-2">æ–‡ç« ç®€ä»‹</label>
        <Textarea
          value={formData.description}
          onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}
          placeholder="è¯·è¾“å…¥æ–‡ç« ç®€ä»‹"
          rows={3}
        />
      </div>

      <div className="grid grid-cols-3 gap-4">
        <div>
          <label className="block text-sm font-medium mb-2">åˆ†ç±»</label>
          <Select
            value={formData.category_id}
            onValueChange={(value) => setFormData(prev => ({ ...prev, category_id: value }))}
          >
            <SelectTrigger>
              <SelectValue placeholder="é€‰æ‹©åˆ†ç±»" />
            </SelectTrigger>
            <SelectContent>
              {categories.map((category) => (
                <SelectItem key={category.id} value={category.id.toString()}>
                  {category.name}
                </SelectItem>
              ))}
            </SelectContent>
          </Select>
        </div>

        <div>
          <label className="block text-sm font-medium mb-2">ä½œè€…</label>
          <Input
            value={formData.author}
            onChange={(e) => setFormData(prev => ({ ...prev, author: e.target.value }))}
            placeholder="ä½œè€…åç§°"
            required
          />
        </div>

        <div>
          <label className="block text-sm font-medium mb-2">çŠ¶æ€</label>
          <Select
            value={formData.status}
            onValueChange={(value) => setFormData(prev => ({ ...prev, status: value }))}
          >
            <SelectTrigger>
              <SelectValue />
            </SelectTrigger>
            <SelectContent>
              <SelectItem value="draft">è‰ç¨¿</SelectItem>
              <SelectItem value="published">å·²å‘å¸ƒ</SelectItem>
              <SelectItem value="archived">å·²å½’æ¡£</SelectItem>
            </SelectContent>
          </Select>
        </div>
      </div>

      <div>
        <label className="block text-sm font-medium mb-2">æ–‡ç« å†…å®¹</label>
        <MDEditor
          value={formData.content}
          onChange={(val) => setFormData(prev => ({ ...prev, content: val || '' }))}
          height={500}
          preview="edit"
        />
      </div>

      <div className="flex justify-end space-x-4">
        <Button type="button" variant="outline" onClick={() => window.history.back()}>
          å–æ¶ˆ
        </Button>
        <Button type="submit" disabled={isLoading}>
          {isLoading ? 'ä¿å­˜ä¸­...' : 'ä¿å­˜æ–‡ç« '}
        </Button>
      </div>
    </form>
  );
}
```

### 3. åŠ¨æ€è·¯ç”±å®ç°

```typescript
// app/docs/[category]/page.tsx
import { notFound } from 'next/navigation';
import { ArticleCard } from '@/components/article-card';

interface CategoryPageProps {
  params: { category: string };
}

export default async function CategoryPage({ params }: CategoryPageProps) {
  const { category } = params;
  
  // è·å–åˆ†ç±»ä¿¡æ¯å’Œæ–‡ç« åˆ—è¡¨
  const [categoryData, articles] = await Promise.all([
    fetch(`${process.env.API_BASE_URL}/api/categories/${category}`).then(res => res.json()),
    fetch(`${process.env.API_BASE_URL}/api/articles?category_slug=${category}`).then(res => res.json())
  ]);

  if (!categoryData) {
    notFound();
  }

  return (
    <div className="container mx-auto px-4 py-8">
      <div className="mb-8">
        <h1 className="text-3xl font-bold mb-4">{categoryData.name}</h1>
        {categoryData.description && (
          <p className="text-gray-600 dark:text-gray-400">{categoryData.description}</p>
        )}
      </div>

      <div className="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
        {articles.map((article) => (
          <ArticleCard
            key={article.id}
            title={article.title}
            description={article.description}
            author={article.author}
            publishedAt={article.published_at}
            wordCount={article.word_count}
            href={`/docs/${category}/${article.slug}`}
          />
        ))}
      </div>
    </div>
  );
}

// app/docs/[category]/[slug]/page.tsx
import { notFound } from 'next/navigation';
import { CustomDocsPage } from '@/components/custom-docs-page';
import { MDXRemote } from 'next-mdx-remote/rsc';

interface ArticlePageProps {
  params: { category: string; slug: string };
}

export default async function ArticlePage({ params }: ArticlePageProps) {
  const { category, slug } = params;
  
  const article = await fetch(
    `${process.env.API_BASE_URL}/api/articles/${category}/${slug}`
  ).then(res => res.ok ? res.json() : null);

  if (!article) {
    notFound();
  }

  return (
    <CustomDocsPage
      title={article.title}
      description={article.description}
      content={article.content}
    >
      <MDXRemote source={article.content} />
    </CustomDocsPage>
  );
}
```

## ğŸ”„ æ•°æ®æºé›†æˆ

### ä¿®æ”¹ç°æœ‰çš„ source.ts

```typescript
// lib/source.ts
import { loader } from 'fumadocs-core/source';
import { docs } from '@/.source';

// åŠ¨æ€æ•°æ®æºé€‚é…å™¨
class DynamicSource {
  private apiBaseUrl = process.env.API_BASE_URL || 'http://localhost:8000';

  async getCategories() {
    const response = await fetch(`${this.apiBaseUrl}/api/categories`);
    return response.json();
  }

  async getArticlesByCategory(categorySlug: string) {
    const response = await fetch(`${this.apiBaseUrl}/api/articles?category_slug=${categorySlug}`);
    return response.json();
  }

  async getArticle(categorySlug: string, articleSlug: string) {
    const response = await fetch(`${this.apiBaseUrl}/api/articles/${categorySlug}/${articleSlug}`);
    return response.json();
  }

  // ç”ŸæˆåŠ¨æ€é¡µé¢æ ‘
  async generatePageTree() {
    const categories = await this.getCategories();
    const tree = [];

    for (const category of categories) {
      const articles = await this.getArticlesByCategory(category.slug);
      
      tree.push({
        type: 'folder',
        name: category.name,
        index: {
          title: category.name,
          description: category.description
        },
        children: articles.map(article => ({
          type: 'page',
          name: article.title,
          url: `/docs/${category.slug}/${article.slug}`,
          data: {
            title: article.title,
            description: article.description,
            body: article.content
          }
        }))
      });
    }

    return tree;
  }
}

// æ··åˆæ•°æ®æºï¼šé™æ€ + åŠ¨æ€
export const source = loader({
  baseUrl: '/docs',
  source: docs.toFumadocsSource(),
});

export const dynamicSource = new DynamicSource();

// è¿è¡Œæ—¶æ•°æ®è·å–
export async function getPageData(categorySlug?: string, articleSlug?: string) {
  if (categorySlug && articleSlug) {
    return dynamicSource.getArticle(categorySlug, articleSlug);
  } else if (categorySlug) {
    return dynamicSource.getArticlesByCategory(categorySlug);
  } else {
    return dynamicSource.getCategories();
  }
}
```

## ğŸ“‹ å®æ–½æ­¥éª¤

### é˜¶æ®µ 1: åç«¯å¼€å‘ (1-2å‘¨)

1. **ç¯å¢ƒæ­å»º**
   ```bash
   # åˆ›å»ºåç«¯é¡¹ç›®
   mkdir fumadocs-backend
   cd fumadocs-backend
   python -m venv venv
   source venv/bin/activate
   pip install fastapi uvicorn sqlalchemy pymysql python-multipart
   ```

2. **æ•°æ®åº“è®¾è®¡**
   - åˆ›å»º MySQL æ•°æ®åº“
   - æ‰§è¡Œå»ºè¡¨ SQL
   - æ’å…¥åˆå§‹æ•°æ®

3. **API å¼€å‘**
   - å®ç°æ–‡ç«  CRUD æ¥å£
   - å®ç°åˆ†ç±»ç®¡ç†æ¥å£
   - æ·»åŠ æ•°æ®éªŒè¯å’Œé”™è¯¯å¤„ç†

4. **æµ‹è¯•éªŒè¯**
   - API æ¥å£æµ‹è¯•
   - æ•°æ®åº“æ“ä½œæµ‹è¯•
   - æ€§èƒ½æµ‹è¯•

### é˜¶æ®µ 2: å‰ç«¯é›†æˆ (1-2å‘¨)

1. **ç®¡ç†åå°å¼€å‘**
   - æ–‡ç« ç¼–è¾‘å™¨é¡µé¢
   - åˆ†ç±»ç®¡ç†é¡µé¢
   - æ–‡ç« åˆ—è¡¨é¡µé¢

2. **åŠ¨æ€è·¯ç”±å®ç°**
   - ä¿®æ”¹ç°æœ‰è·¯ç”±ç»“æ„
   - å®ç°åŠ¨æ€æ•°æ®è·å–
   - é›†æˆ CustomDocsPage ç»„ä»¶

3. **æ•°æ®æºåˆ‡æ¢**
   - ä¿®æ”¹ source.ts
   - å®ç°æ··åˆæ•°æ®æº
   - ä¿æŒå‘åå…¼å®¹

### é˜¶æ®µ 3: éƒ¨ç½²ä¼˜åŒ– (1å‘¨)

1. **éƒ¨ç½²é…ç½®**
   - Docker å®¹å™¨åŒ–
   - ç¯å¢ƒå˜é‡é…ç½®
   - æ•°æ®åº“è¿æ¥æ± ä¼˜åŒ–

2. **æ€§èƒ½ä¼˜åŒ–**
   - API å“åº”ç¼“å­˜
   - æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
   - å‰ç«¯é¡µé¢ç¼“å­˜

3. **ç›‘æ§å‘Šè­¦**
   - æ—¥å¿—è®°å½•
   - é”™è¯¯ç›‘æ§
   - æ€§èƒ½ç›‘æ§

## ğŸš€ éƒ¨ç½²æ–¹æ¡ˆ

### Docker Compose é…ç½®

```yaml
# docker-compose.yml
version: '3.8'

services:
  frontend:
    build: .
    ports:
      - "3000:3000"
    environment:
      - API_BASE_URL=http://backend:8000
    depends_on:
      - backend

  backend:
    build: ./backend
    ports:
      - "8000:8000"
    environment:
      - DB_HOST=mysql
      - DB_USER=fumadocs
      - DB_PASSWORD=password
      - DB_NAME=fumadocs
    depends_on:
      - mysql

  mysql:
    image: mysql:8.0
    environment:
      - MYSQL_ROOT_PASSWORD=rootpassword
      - MYSQL_DATABASE=fumadocs
      - MYSQL_USER=fumadocs
      - MYSQL_PASSWORD=password
    volumes:
      - mysql_data:/var/lib/mysql
      - ./backend/init.sql:/docker-entrypoint-initdb.d/init.sql
    ports:
      - "3306:3306"

volumes:
  mysql_data:
```

## ğŸ“ˆ æ‰©å±•åŠŸèƒ½

### æœªæ¥å¯èƒ½çš„å¢å¼ºåŠŸèƒ½

1. **ç”¨æˆ·ç³»ç»Ÿ**
   - ç”¨æˆ·æ³¨å†Œ/ç™»å½•
   - æƒé™ç®¡ç†
   - å¤šä½œè€…åä½œ

2. **å†…å®¹å¢å¼º**
   - æ–‡ç« æ ‡ç­¾ç³»ç»Ÿ
   - å…¨æ–‡æœç´¢
   - æ–‡ç« è¯„è®º

3. **SEO ä¼˜åŒ–**
   - è‡ªåŠ¨ç”Ÿæˆ sitemap
   - ç»“æ„åŒ–æ•°æ®
   - ç¤¾äº¤åª’ä½“å¡ç‰‡

4. **åˆ†æç»Ÿè®¡**
   - è®¿é—®ç»Ÿè®¡
   - çƒ­é—¨æ–‡ç« 
   - ç”¨æˆ·è¡Œä¸ºåˆ†æ

## ğŸ” å®‰å…¨è€ƒè™‘

1. **API å®‰å…¨**
   - JWT è®¤è¯
   - è¯·æ±‚é¢‘ç‡é™åˆ¶
   - è¾“å…¥éªŒè¯å’Œæ¸…ç†

2. **æ•°æ®åº“å®‰å…¨**
   - è¿æ¥åŠ å¯†
   - å¤‡ä»½ç­–ç•¥
   - è®¿é—®æ§åˆ¶

3. **å‰ç«¯å®‰å…¨**
   - XSS é˜²æŠ¤
   - CSRF é˜²æŠ¤
   - å†…å®¹å®‰å…¨ç­–ç•¥

---

*æœ¬æ–¹æ¡ˆæ–‡æ¡£æœ€åæ›´æ–°: 2025å¹´9æœˆ20æ—¥*
